<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ü–æ–π–º–∞–π –ò–Ω—Å–∞—Ä–∞ ‚Äî –º–∏–Ω–∏-–∏–≥—Ä–∞</title>
  <style>
    :root {
      --bg1: #0d1117;
      --bg2: #1a1f29;
      --card: #1f2733;
      --accent: #6a5acd;
      --accent2: #00b3ff;
      --text: #f5f5f5;
      --muted: #a0a0a0;
      --shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
      --radius: 14px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
body {
  font-family: 'Inter', system-ui, Segoe UI, Roboto, sans-serif;
  background: radial-gradient(circle at top, var(--bg1) 0%, var(--bg2) 100%);
  color: var(--text);
  margin: 0;
  padding: 24px;
  display: block;
  min-height: 100vh;
  overflow-y: auto;
}


.wrap {
  width: 100%;
  max-width: 1080px;
  background: var(--card);
  border-radius: var(--radius);
  padding: 22px;
  box-shadow: var(--shadow);
  border: 1px solid rgba(255, 255, 255, 0.05);
  margin: 0 auto;
}


    header {
      display: flex;
      gap: 16px;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 16px;
    }

    .logo {
      width: 64px;
      height: 64px;
      border-radius: 16px;
      background: linear-gradient(135deg, var(--accent2), var(--accent));
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 700;
      font-size: 22px;
      box-shadow: 0 0 20px rgba(0, 179, 255, 0.4);
    }

    h1 {
      margin: 0;
      font-size: 22px;
      font-weight: 700;
    }

    p.lead {
      margin: 4px 0 0;
      color: var(--muted);
      font-size: 15px;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 18px;
    }

    .card {
      background: rgba(255, 255, 255, 0.03);
      padding: 12px 14px;
      border-radius: var(--radius);
      border: 1px solid rgba(255, 255, 255, 0.06);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(8px);
    }

    button, select {
      border: none;
      border-radius: 10px;
      padding: 10px 16px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    button {
      background: linear-gradient(90deg, var(--accent2), var(--accent));
      color: white;
      box-shadow: 0 0 12px rgba(106, 90, 205, 0.4);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 20px rgba(0, 179, 255, 0.6);
    }

    button.secondary {
      background: transparent;
      color: var(--accent2);
      border: 1px solid var(--accent2);
      box-shadow: none;
    }

    .game-area {
      display: flex;
      gap: 20px;
      flex-wrap: nowrap;
    }

    .left {
      flex: 1;
      min-height: 420px;
      background: linear-gradient(180deg, #1e2533, #161b26);
      border-radius: var(--radius);
      padding: 12px;
      position: relative;
      overflow: hidden;
    }

    .right {
      width: 320px;
    }

    .hud {
      position: absolute;
      top: 10px;
      left: 10px;
      display: flex;
      gap: 8px;
    }

    .score, .timer {
      background: rgba(255, 255, 255, 0.08);
      padding: 8px 12px;
      border-radius: 10px;
      font-weight: 700;
      backdrop-filter: blur(6px);
      color: #fff;
    }

    .target {
      position: absolute;
      cursor: pointer;
      border-radius: 50%;
      user-select: none;
      overflow: hidden;
      border: 3px solid rgba(255, 255, 255, 0.8);
      box-shadow: 0 0 20px rgba(0, 179, 255, 0.4);
      transition: transform 0.3s ease;
    }

    .target img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .uploads {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .thumb {
      width: 70px;
      height: 70px;
      border-radius: 10px;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.05);
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px dashed rgba(255, 255, 255, 0.1);
    }

    .footer {
      margin-top: 16px;
      text-align: center;
      color: var(--muted);
      font-size: 13px;
    }

    .big-msg {
      margin-top: 10px;
      padding: 14px;
      border-radius: 10px;
      background: linear-gradient(90deg, rgba(0,179,255,0.08), rgba(106,90,205,0.08));
      font-weight: 600;
      text-align: center;
      color: #d1d1ff;
    }

    /* ----- –∞–¥–∞–ø—Ç–∞—Ü–∏—è ----- */
    @media (max-width: 840px) {
      .game-area {
        flex-direction: column;
      }
      .right {
        width: 100%;
      }
      .left {
        min-height: 360px;
      }
    }

    @media (max-width: 600px) {
      body { padding: 12px; }
      h1 { font-size: 18px; }
      p.lead { font-size: 14px; }
      .controls {
        flex-direction: column;
        gap: 10px;
      }
      button, select {
        width: 100%;
        font-size: 16px;
      }
      .thumb {
        width: 60px;
        height: 60px;
      }
      .score, .timer {
        font-size: 15px;
      }
    }

    @media (max-width: 400px) {
      .left { min-height: 300px; }
      button, select { font-size: 15px; padding: 12px; }
      .logo { width: 52px; height: 52px; font-size: 18px; }
    }

    /* === –ê–¥–∞–ø—Ç–∞—Ü–∏—è –º–µ–Ω—é –ø–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω === */
.controls {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: flex-start;
}

@media (max-width: 768px) {
  .controls {
    flex-direction: column;
    align-items: stretch;
  }

  .controls .card {
    width: 100%;
  }

  #uploadBtn,
  #startBtn,
  #resetBtn,
  select {
    width: 100%;
    font-size: 1rem;
  }

  header {
    flex-direction: column;
    text-align: center;
  }

  header .logo {
    font-size: 2rem;
  }
}

.wrap {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  overflow-y: auto;
  padding: 16px;
  box-sizing: border-box;
}

/* –ß—Ç–æ–±—ã –º–µ–Ω—é –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–æ—Å—å –∏–≥—Ä–æ–π */
header, .controls {
  position: relative;
  z-index: 10;
}

/* –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –∏ —É–¥–æ–±–Ω–æ */
@media (max-width: 768px) {
  body, html {
    overflow-y: auto;
  }

  .controls {
    flex-direction: column;
    align-items: stretch;
    position: relative;
    top: 0;
    margin-top: 12px;
  }

  canvas, .game-area {
    margin-top: 16px;
  }
}

  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="logo">üéÆ</div>
      <div>
        <h1>–ü–æ–π–º–∞–π –ò–Ω—Å–∞—Ä–∞</h1>
        <p class="lead">–ú–∏–Ω–∏-–∏–≥—Ä–∞: –ª–æ–≤–∏ –ò–Ω—Å–∞—Ä–∞ –∏ –Ω–∞–±–µ—Ä–∏ –º–∞–∫—Å–∏–º—É–º –æ—á–∫–æ–≤!</p>
      </div>
    </header>

    <!-- Controls -->
    <div class="controls">
      <label class="card" style="display:flex;align-items:center;gap:8px;flex:1;flex-wrap:wrap;">
        <input id="fileInput" type="file" accept="image/*" multiple hidden>
        <button id="uploadBtn" class="secondary">üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</button>
        <small style="color:var(--muted)">–¥–æ 6 —Ñ–∞–π–ª–æ–≤</small>
      </label>

      <div class="card" style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
        <label>‚è± –í—Ä–µ–º—è:
          <select id="duration">
            <option value="20">20 —Å–µ–∫</option>
            <option value="30" selected>30 —Å–µ–∫</option>
            <option value="45">45 —Å–µ–∫</option>
            <option value="60">60 —Å–µ–∫</option>
          </select>
        </label>
        <label>üéØ –†–∞–∑–º–µ—Ä:
          <select id="size">
            <option value="90">–ë–æ–ª—å—à–æ–π</option>
            <option value="70" selected>–°—Ä–µ–¥–Ω–∏–π</option>
            <option value="50">–ú–∞–ª–µ–Ω—å–∫–∏–π</option>
          </select>
        </label>
      </div>

      <div class="card" style="margin-left:auto;display:flex;gap:8px;align-items:center;">
        <button id="startBtn">‚ñ∂ –°—Ç–∞—Ä—Ç</button>
        <button id="resetBtn" class="secondary">‚ü≥ –°–±—Ä–æ—Å</button>
      </div>
    </div>

    <!-- Game area -->
    <div class="game-area">
      <div class="left card" id="playArea">
        <div class="hud">
          <div class="score" id="score">–û—á–∫–∏: 0</div>
          <div class="timer" id="timer">00:30</div>
        </div>

        <canvas id="confettiCanvas" style="position:absolute;inset:0;pointer-events:none;"></canvas>
        <div class="big-msg" id="message">
          –ù–∞–∂–º–∏ ¬´–°—Ç–∞—Ä—Ç¬ª, –≤—ã–±–µ—Ä–∏ —Ñ–æ—Ç–æ ‚Äî –∏ –ª–æ–≤–∏ –ò–Ω—Å–∞—Ä–∞ –∫–ª–∏–∫–∞–º–∏!
        </div>
      </div>

      <div class="right">
        <div class="card">
          <strong>–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ</strong>
          <div class="uploads" id="thumbs"></div>
          <small style="color:var(--muted);display:block;margin-top:6px;">–ö–ª–∏–∫ ‚Äî —É–¥–∞–ª–∏—Ç—å.</small>
        </div>

        <div class="card">
          <strong>–ü—Ä–∞–≤–∏–ª–∞</strong>
          <ol style="color:var(--muted);margin-top:6px;">
            <li>–õ–æ–≤–∏ —Ñ–æ—Ç–æ –ò–Ω—Å–∞—Ä–∞ ‚Äî –ø–æ–ª—É—á–∞–π –æ—á–∫–∏.</li>
            <li>–¶–µ–ª—å –¥–≤–∏–≥–∞–µ—Ç—Å—è –∏ —É—Ö–æ–¥–∏—Ç –æ—Ç –∫—É—Ä—Å–æ—Ä–∞.</li>
            <li>–ú–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä ‚Äî —Å–ª–æ–∂–Ω–µ–µ, –Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ!</li>
          </ol>
        </div>

        <div class="card">
          <strong>–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</strong>
          <div id="best" style="font-size:20px;margin-top:6px;font-weight:800">0 –æ—á–∫–æ–≤</div>
        </div>
      </div>
    </div>

    <div class="footer">
      –ü–æ–¥–µ–ª–∏—Å—å —Å—Å—ã–ª–∫–æ–π ‚Äî –¥—Ä—É–∑—å—è —Å–º–æ–≥—É—Ç —Å—ã–≥—Ä–∞—Ç—å –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ üéâ
    </div>
  </div>

  <script>
    // --- –±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ ---
    const fileInput = document.getElementById('fileInput');
    const uploadBtn = document.getElementById('uploadBtn');
    const thumbs = document.getElementById('thumbs');
    const startBtn = document.getElementById('startBtn');
    const resetBtn = document.getElementById('resetBtn');
    const playArea = document.getElementById('playArea');
    const scoreEl = document.getElementById('score');
    const timerEl = document.getElementById('timer');
    const message = document.getElementById('message');
    const bestEl = document.getElementById('best');
    const confettiCanvas = document.getElementById('confettiCanvas');

    const durationSelect = document.getElementById('duration');
    const sizeSelect = document.getElementById('size');

    let images = []; // data URLs
    let target = null;
    let score = 0;
    let best = Number(localStorage.getItem('catchInsarBest') || 0);
    bestEl.textContent = best + ' –æ—á–∫–æ–≤';

    // placeholder SVG person if no image
    const placeholder = `data:image/svg+xml;utf8,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><rect width="100%" height="100%" fill="%23ffd93d"/><g transform="translate(40,20)"> <circle cx="60" cy="40" r="26" fill="%23ff6b6b"/> <rect x="30" y="78" width="60" height="80" rx="18" fill="%23ff6b6b"/></g></svg>')}`;

    // handle upload
    uploadBtn.addEventListener('click', ()=>fileInput.click());
    fileInput.addEventListener('change', ev=>{
      const files = Array.from(ev.target.files).slice(0,6);
      files.forEach(f=>{
        const reader = new FileReader();
        reader.onload = e=>{
          images.push(e.target.result);
          renderThumbs();
        }
        reader.readAsDataURL(f);
      });
      fileInput.value = '';
    });

    function renderThumbs(){
      thumbs.innerHTML='';
      images.forEach((src,i)=>{
        const d = document.createElement('div'); d.className='thumb';
        const img = document.createElement('img'); img.src=src; img.style.width='100%'; img.style.height='100%'; img.style.objectFit='cover';
        d.appendChild(img);
        d.addEventListener('click', ()=>{ images.splice(i,1); renderThumbs(); });
        thumbs.appendChild(d);
      });
      if(images.length===0){
        const d = document.createElement('div'); d.className='thumb'; d.innerHTML='<small style="text-align:center;color:#999">–ü—É—Å—Ç–æ</small>';
        thumbs.appendChild(d);
      }
    }

    renderThumbs();

    // create target element
    function makeTarget(sizePx){
      removeTarget();
      const el = document.createElement('div');
      el.className='target';
      el.style.width = sizePx+'px'; el.style.height = sizePx+'px';
      const img = document.createElement('img');
      img.src = images.length? images[Math.floor(Math.random()*images.length)] : placeholder;
      el.appendChild(img);
      playArea.appendChild(el);
      target = el;

      // click handler
      el.addEventListener('click', ev=>{
        ev.stopPropagation();
        registerHit();
      });

      return el;
    }

    function removeTarget(){ if(target){ target.remove(); target=null; } }

    // movement & AI
    let moving = false;
    let moveInterval = null;
    let avoidMouse = true;

    function startMoving(){
      moving = true;
      const areaRect = playArea.getBoundingClientRect();
      if(moveInterval) clearInterval(moveInterval);
      moveInterval = setInterval(()=>{
        if(!target) return;
        // decide new position
        const sizePx = parseInt(getComputedStyle(target).width);
        const padding = 8;
        const maxX = areaRect.width - sizePx - padding;
        const maxY = areaRect.height - sizePx - padding;
const offset = 100;
let nx = offset + Math.random() * (maxX - offset * 2);
let ny = offset + Math.random() * (maxY - offset * 2);

        // if mouse is near, try to move away from it
        if(lastMouse){
          const mx = lastMouse.x - areaRect.left;
          const my = lastMouse.y - areaRect.top;
          const dx = (nx - mx), dy = (ny - my);
          const dist = Math.hypot(dx,dy);
          if(dist < 150){ // too close -> jump opposite
            nx = Math.min(Math.max(mx + ( (mx-nx) * 2.0 ), padding), maxX);
            ny = Math.min(Math.max(my + ( (my-ny) * 2.0 ), padding), maxY);
          }
        }
        target.style.transition = 'transform 340ms cubic-bezier(.2,.8,.2,1)';
        target.style.transform = `translate(${nx}px, ${ny}px)`;

        // occasionally change image
        if(Math.random()<0.15){
          const img = target.querySelector('img');
          img.src = images.length? images[Math.floor(Math.random()*images.length)] : placeholder;
        }
      }, 500);
    }

    function stopMoving(){ moving=false; if(moveInterval) clearInterval(moveInterval); moveInterval=null; }

    // mouse tracking
    let lastMouse = null;
    document.addEventListener('mousemove', e=>{ lastMouse = {x:e.clientX,y:e.clientY}; });
    document.addEventListener('touchmove', e=>{ const t=e.touches[0]; lastMouse={x:t.clientX,y:t.clientY}; }, {passive:true});

    // game state
    let gameTimer = null;
    let timeLeft = 30;

    function registerHit(){
      score += 1;
      scoreEl.textContent = '–û—á–∫–∏: '+score;
      spawnConfettiAt(target);
      // quick image flash/change
      const img = target.querySelector('img');
      img.style.transform='scale(0.9)';
      setTimeout(()=>img.style.transform='',120);
      // change position immediately
      // reposition instantly
      const areaRect = playArea.getBoundingClientRect();
      const sizePx = parseInt(getComputedStyle(target).width);
      const padding = 8;
      const maxX = areaRect.width - sizePx - padding;
      const maxY = areaRect.height - sizePx - padding;
const offset = 100;
const nx = offset + Math.random() * (maxX - offset * 2);
const ny = offset + Math.random() * (maxY - offset * 2);


      target.style.transition='transform 160ms ease-out';
      target.style.transform = `translate(${nx}px, ${ny}px)`;
    }

    function startGame(){
      score = 0; scoreEl.textContent='–û—á–∫–∏: 0';
      const dur = parseInt(durationSelect.value);
      timeLeft = dur; timerEl.textContent = formatTime(timeLeft);
      // create target
      const sizePx = parseInt(sizeSelect.value);
      makeTarget(sizePx);
      // position target randomly (transform)
      const areaRect = playArea.getBoundingClientRect();
const offset = 100; // –æ—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—ë–≤
const nx = offset + Math.random() * (areaRect.width - sizePx - offset * 2 - 8);
const ny = offset + Math.random() * (areaRect.height - sizePx - offset * 2 - 8);



      target.style.transform = `translate(${nx}px, ${ny}px)`;
      startMoving();

      // timer
      if(gameTimer) clearInterval(gameTimer);
      gameTimer = setInterval(()=>{
        timeLeft -= 1;
        timerEl.textContent = formatTime(timeLeft);
        if(timeLeft<=0){ endGame(); }
      },1000);

      // update message
      message.textContent = '–ò–≥—Ä–∞ –∏–¥—ë—Ç! –õ–æ–≤–∏ –ò–Ω—Å–∞—Ä–∞ ‚Äî –∫–ª–∏–∫–∞–π –ø–æ —Ñ–æ—Ç–æ.';
    }

    function endGame(){
      stopMoving();
      clearInterval(gameTimer); gameTimer=null;
      removeTarget();
      message.textContent = `–†–∞—É–Ω–¥ –æ–∫–æ–Ω—á–µ–Ω! –ù–∞–±—Ä–∞–Ω–æ ${score} –æ—á–∫–æ–≤. –•–æ—á–µ—à—å –ø–æ–≤—Ç–æ—Ä?`;
      if(score>best){ best=score; localStorage.setItem('catchInsarBest', best); bestEl.textContent = best+' –æ—á–∫–æ–≤'; }
    }

    function resetGame(){ stopMoving(); clearInterval(gameTimer); gameTimer=null; score=0; scoreEl.textContent='–û—á–∫–∏: 0'; timerEl.textContent='00:00'; removeTarget(); message.textContent='–ù–∞–∂–º–∏ ¬´–°—Ç–∞—Ä—Ç¬ª, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –ò–Ω—Å–∞—Ä–∞ ‚Äî –∏ –ª–æ–≤–∏—Ç–µ –µ–≥–æ –∫–ª–∏–∫–∞–º–∏! –ò–º—è: –ò–Ω—Å–∞—Ä'; }

    startBtn.addEventListener('click', ()=>{ startGame(); });
    resetBtn.addEventListener('click', ()=>{ resetGame(); });

    function formatTime(sec){ const m = Math.floor(sec/60); const s = sec%60; return (m?m+':':'00:') + String(s).padStart(2,'0'); }

    // confetti (simple)
    const confettiCtx = confettiCanvas.getContext('2d');
    let confettiPieces = [];
    function resizeCanvas(){ confettiCanvas.width = playArea.clientWidth; confettiCanvas.height = playArea.clientHeight; }
    window.addEventListener('resize', resizeCanvas); resizeCanvas();

    function spawnConfettiAt(el){
      const rect = el.getBoundingClientRect();
      const areaRect = playArea.getBoundingClientRect();
      const x = rect.left - areaRect.left + rect.width/2;
      const y = rect.top - areaRect.top + rect.height/2;
      for(let i=0;i<18;i++){
        confettiPieces.push({x,y,vx:(Math.random()-0.5)*6,vy:(Math.random()*-6)-2,rot:Math.random()*360, size:6+Math.random()*8, life:60+Math.random()*40});
      }
      if(!confettiLoopRunning) runConfettiLoop();
    }

    let confettiLoopRunning=false;
    function runConfettiLoop(){ confettiLoopRunning=true; function step(){ confettiCtx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height); for(let i=confettiPieces.length-1;i>=0;i--){ const p=confettiPieces[i]; p.x+=p.vx; p.y+=p.vy; p.vy+=0.25; p.rot+=3; p.life--; confettiCtx.save(); confettiCtx.translate(p.x,p.y); confettiCtx.rotate(p.rot*Math.PI/180); confettiCtx.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6); confettiCtx.restore(); if(p.life<=0 || p.y>confettiCanvas.height+50) confettiPieces.splice(i,1); }
      if(confettiPieces.length>0) requestAnimationFrame(step); else { confettiLoopRunning=false; confettiCtx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height); } }
      requestAnimationFrame(step);
    }

    // allow clicking the play area to create small distraction (optional)
    playArea.addEventListener('click', e=>{
      // small pop
    });

    // initialize
    renderThumbs();

    // small helpful hint: allow dropping images onto the page
    ;(function setupDrop(){
      const overlay = document.createElement('div');
      overlay.style.position='absolute';overlay.style.inset='0';overlay.style.zIndex=2;overlay.style.pointerEvents='none';playArea.appendChild(overlay);
      ['dragenter','dragover'].forEach(ev=>{
        playArea.addEventListener(ev, e=>{ e.preventDefault(); overlay.style.pointerEvents='auto'; overlay.style.background='rgba(255,255,255,0.02)'; });
      });
      ['dragleave','drop'].forEach(ev=>{
        playArea.addEventListener(ev, e=>{ e.preventDefault(); overlay.style.pointerEvents='none'; overlay.style.background='transparent'; });
      });
      playArea.addEventListener('drop', e=>{
        const f = e.dataTransfer.files && e.dataTransfer.files[0];
        if(f && f.type.startsWith('image/')){
          const reader = new FileReader(); reader.onload=e2=>{ images.push(e2.target.result); renderThumbs(); }; reader.readAsDataURL(f);
        }
      });
    })();

    // prevent accidental selection while playing
    document.addEventListener('selectstart', e=>{ if(gameTimer) e.preventDefault(); });


        // --- –∑–≤—É–∫ –∫–ª–∏–∫–∞ ---
// –ü–æ–¥–∫–ª—é—á–∞–µ–º –∑–≤—É–∫ –∏–∑ —Ñ–∞–π–ª–∞ –≤ –ø–∞–ø–∫–µ —Å index.html
const clickSound = new Audio("click.mp3");

function playClickSound() {
  const snd = clickSound.cloneNode(); // –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–≤—É–∫
  snd.volume = 0.5;
  snd.play().catch(() => {});
}

// –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∑–æ–≤ –∑–≤—É–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ò–Ω—Å–∞—Ä–∞
const oldRegisterHit = registerHit;
registerHit = function() {
  playClickSound();
  oldRegisterHit();
};


  </script>
</body>
</html>
